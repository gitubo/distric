Start testing: Jan 15 09:27 UTC
----------------------------------------------------------
1/3 Testing: test_metrics
1/3 Test: test_metrics
Command: "/app/build/libs/distric_obs/tests/test_metrics"
Directory: /app/build/libs/distric_obs/tests
"test_metrics" start time: Jan 15 09:27 UTC
Output:
----------------------------------------------------------
=== DistriC Metrics Tests ===

Test: Concurrent counter updates...
  Expected: 100000, Actual: 100000
  PASSED

Test: Gauge operations...
  Set value: 42.5, Got: 42.5
  PASSED

Test: Histogram observations...
  Recorded 4 observations, count: 4
  PASSED

Test: Prometheus export format...
  Prometheus output:
# HELP http_requests_total Total HTTP requests
# TYPE http_requests_total counter
http_requests_total{method="GET",status="200"} 42

  PASSED

=== All metrics tests passed ===
<end of output>
Test time =   0.01 sec
----------------------------------------------------------
Test Passed.
"test_metrics" end time: Jan 15 09:27 UTC
"test_metrics" time elapsed: 00:00:00
----------------------------------------------------------

2/3 Testing: test_logging
2/3 Test: test_logging
Command: "/app/build/libs/distric_obs/tests/test_logging"
Directory: /app/build/libs/distric_obs/tests
"test_logging" start time: Jan 15 09:27 UTC
Output:
----------------------------------------------------------
=== DistriC Logging Tests ===
{"timestamp":1768469269655,"level":"INFO","component":"test","message":"Simple info message"}
{"timestamp":1768469269655,"level":"WARN","component":"test","message":"Warning message","code":"404"}
{"timestamp":1768469269655,"level":"ERROR","component":"test","message":"Error occurred","error":"File not found","path":"/tmp/missing"}
{"timestamp":1768469269655,"level":"INFO","component":"async_test","message":"Async log message","iteration":"test"}
{"timestamp":1768469269655,"level":"INFO","component":"async_test","message":"Async log message","iteration":"test"}
{"timestamp":1768469269655,"level":"INFO","component":"async_test","message":"Async log message","iteration":"test"}
{"timestamp":1768469269655,"level":"INFO","component":"async_test","message":"Async log message","iteration":"test"}
{"timestamp":1768469269655,"level":"INFO","component":"async_test","message":"Async log message","iteration":"test"}
{"timestamp":1768469269655,"level":"INFO","component":"async_test","message":"Async log message","iteration":"test"}
{"timestamp":1768469269655,"level":"INFO","component":"async_test","message":"Async log message","iteration":"test"}
{"timestamp":1768469269655,"level":"INFO","component":"async_test","message":"Async log message","iteration":"test"}
{"timestamp":1768469269655,"level":"INFO","component":"async_test","message":"Async log message","iteration":"test"}
{"timestamp":1768469269655,"level":"INFO","component":"async_test","message":"Async log message","iteration":"test"}
{"timestamp":1768469269655,"level":"INFO","component":"async_test","message":"Async log message","iteration":"test"}
{"timestamp":1768469269655,"level":"INFO","component":"async_test","message":"Async log message","iteration":"test"}
{"timestamp":1768469269655,"level":"INFO","component":"async_test","message":"Async log message","iteration":"test"}
{"timestamp":1768469269655,"level":"INFO","component":"async_test","message":"Async log message","iteration":"test"}
{"timestamp":1768469269655,"level":"INFO","component":"async_test","message":"Async log message","iteration":"test"}
{"timestamp":1768469269655,"level":"INFO","component":"async_test","message":"Async log message","iteration":"test"}
{"timestamp":1768469269655,"level":"INFO","component":"async_test","message":"Async log message","iteration":"test"}
{"timestamp":1768469269655,"level":"INFO","component":"async_test","message":"Async log message","iteration":"test"}
{"timestamp":1768469269655,"level":"INFO","component":"async_test","message":"Async log message","iteration":"test"}
{"timestamp":1768469269655,"level":"INFO","component":"async_test","message":"Async log message","iteration":"test"}
{"timestamp":1768469269655,"level":"INFO","component":"async_test","message":"Async log message","iteration":"test"}
{"timestamp":1768469269655,"level":"INFO","component":"async_test","message":"Async log message","iteration":"test"}
{"timestamp":1768469269656,"level":"INFO","component":"async_test","message":"Async log message","iteration":"test"}
{"timestamp":1768469269656,"level":"INFO","component":"async_test","message":"Async log message","iteration":"test"}
{"timestamp":1768469269656,"level":"INFO","component":"async_test","message":"Async log message","iteration":"test"}
{"timestamp":1768469269656,"level":"INFO","component":"async_test","message":"Async log message","iteration":"test"}
{"timestamp":1768469269656,"level":"INFO","component":"async_test","message":"Async log message","iteration":"test"}
{"timestamp":1768469269656,"level":"INFO","component":"async_test","message":"Async log message","iteration":"test"}
{"timestamp":1768469269656,"level":"INFO","component":"async_test","message":"Async log message","iteration":"test"}
{"timestamp":1768469269656,"level":"INFO","component":"async_test","message":"Async log message","iteration":"test"}
{"timestamp":1768469269656,"level":"INFO","component":"async_test","message":"Async log message","iteration":"test"}
{"timestamp":1768469269656,"level":"INFO","component":"async_test","message":"Async log message","iteration":"test"}
{"timestamp":1768469269656,"level":"INFO","component":"async_test","message":"Async log message","iteration":"test"}
{"timestamp":1768469269656,"level":"INFO","component":"async_test","message":"Async log message","iteration":"test"}
{"timestamp":1768469269656,"level":"INFO","component":"async_test","message":"Async log message","iteration":"test"}
{"timestamp":1768469269656,"level":"INFO","component":"async_test","message":"Async log message","iteration":"test"}
{"timestamp":1768469269656,"level":"INFO","component":"async_test","message":"Async log message","iteration":"test"}
{"timestamp":1768469269656,"level":"INFO","component":"async_test","message":"Async log message","iteration":"test"}
{"timestamp":1768469269656,"level":"INFO","component":"async_test","message":"Async log message","iteration":"test"}
{"timestamp":1768469269656,"level":"INFO","component":"async_test","message":"Async log message","iteration":"test"}
{"timestamp":1768469269656,"level":"INFO","component":"async_test","message":"Async log message","iteration":"test"}
{"timestamp":1768469269656,"level":"INFO","component":"async_test","message":"Async log message","iteration":"test"}
{"timestamp":1768469269656,"level":"INFO","component":"async_test","message":"Async log message","iteration":"test"}
{"timestamp":1768469269656,"level":"INFO","component":"async_test","message":"Async log message","iteration":"test"}
{"timestamp":1768469269656,"level":"INFO","component":"async_test","message":"Async log message","iteration":"test"}
{"timestamp":1768469269656,"level":"INFO","component":"async_test","message":"Async log message","iteration":"test"}
{"timestamp":1768469269656,"level":"INFO","component":"async_test","message":"Async log message","iteration":"test"}
{"timestamp":1768469269656,"level":"INFO","component":"async_test","message":"Async log message","iteration":"test"}
{"timestamp":1768469269656,"level":"INFO","component":"async_test","message":"Async log message","iteration":"test"}
{"timestamp":1768469269656,"level":"INFO","component":"async_test","message":"Async log message","iteration":"test"}
{"timestamp":1768469269656,"level":"INFO","component":"async_test","message":"Async log message","iteration":"test"}
{"timestamp":1768469269656,"level":"INFO","component":"async_test","message":"Async log message","iteration":"test"}
{"timestamp":1768469269656,"level":"INFO","component":"async_test","message":"Async log message","iteration":"test"}
{"timestamp":1768469269656,"level":"INFO","component":"async_test","message":"Async log message","iteration":"test"}
{"timestamp":1768469269656,"level":"INFO","component":"async_test","message":"Async log message","iteration":"test"}
{"timestamp":1768469269656,"level":"INFO","component":"async_test","message":"Async log message","iteration":"test"}
{"timestamp":1768469269656,"level":"INFO","component":"async_test","message":"Async log message","iteration":"test"}
{"timestamp":1768469269656,"level":"INFO","component":"async_test","message":"Async log message","iteration":"test"}
{"timestamp":1768469269656,"level":"INFO","component":"async_test","message":"Async log message","iteration":"test"}
{"timestamp":1768469269656,"level":"INFO","component":"async_test","message":"Async log message","iteration":"test"}
{"timestamp":1768469269656,"level":"INFO","component":"async_test","message":"Async log message","iteration":"test"}
{"timestamp":1768469269656,"level":"INFO","component":"async_test","message":"Async log message","iteration":"test"}
{"timestamp":1768469269656,"level":"INFO","component":"async_test","message":"Async log message","iteration":"test"}
{"timestamp":1768469269656,"level":"INFO","component":"async_test","message":"Async log message","iteration":"test"}
{"timestamp":1768469269656,"level":"INFO","component":"async_test","message":"Async log message","iteration":"test"}
{"timestamp":1768469269656,"level":"INFO","component":"async_test","message":"Async log message","iteration":"test"}
{"timestamp":1768469269656,"level":"INFO","component":"async_test","message":"Async log message","iteration":"test"}
{"timestamp":1768469269656,"level":"INFO","component":"async_test","message":"Async log message","iteration":"test"}
{"timestamp":1768469269656,"level":"INFO","component":"async_test","message":"Async log message","iteration":"test"}
{"timestamp":1768469269656,"level":"INFO","component":"async_test","message":"Async log message","iteration":"test"}
{"timestamp":1768469269656,"level":"INFO","component":"async_test","message":"Async log message","iteration":"test"}
{"timestamp":1768469269656,"level":"INFO","component":"async_test","message":"Async log message","iteration":"test"}
{"timestamp":1768469269656,"level":"INFO","component":"async_test","message":"Async log message","iteration":"test"}
{"timestamp":1768469269656,"level":"INFO","component":"async_test","message":"Async log message","iteration":"test"}
{"timestamp":1768469269656,"level":"INFO","component":"async_test","message":"Async log message","iteration":"test"}
{"timestamp":1768469269656,"level":"INFO","component":"async_test","message":"Async log message","iteration":"test"}
{"timestamp":1768469269656,"level":"INFO","component":"async_test","message":"Async log message","iteration":"test"}
{"timestamp":1768469269656,"level":"INFO","component":"async_test","message":"Async log message","iteration":"test"}
{"timestamp":1768469269656,"level":"INFO","component":"async_test","message":"Async log message","iteration":"test"}
{"timestamp":1768469269656,"level":"INFO","component":"async_test","message":"Async log message","iteration":"test"}
{"timestamp":1768469269656,"level":"INFO","component":"async_test","message":"Async log message","iteration":"test"}
{"timestamp":1768469269656,"level":"INFO","component":"async_test","message":"Async log message","iteration":"test"}
{"timestamp":1768469269656,"level":"INFO","component":"async_test","message":"Async log message","iteration":"test"}
{"timestamp":1768469269656,"level":"INFO","component":"async_test","message":"Async log message","iteration":"test"}
{"timestamp":1768469269656,"level":"INFO","component":"async_test","message":"Async log message","iteration":"test"}
{"timestamp":1768469269656,"level":"INFO","component":"async_test","message":"Async log message","iteration":"test"}
{"timestamp":1768469269656,"level":"INFO","component":"async_test","message":"Async log message","iteration":"test"}
{"timestamp":1768469269656,"level":"INFO","component":"async_test","message":"Async log message","iteration":"test"}
{"timestamp":1768469269656,"level":"INFO","component":"async_test","message":"Async log message","iteration":"test"}
{"timestamp":1768469269656,"level":"INFO","component":"async_test","message":"Async log message","iteration":"test"}
{"timestamp":1768469269656,"level":"INFO","component":"async_test","message":"Async log message","iteration":"test"}
{"timestamp":1768469269656,"level":"INFO","component":"async_test","message":"Async log message","iteration":"test"}
{"timestamp":1768469269656,"level":"INFO","component":"async_test","message":"Async log message","iteration":"test"}
{"timestamp":1768469269656,"level":"INFO","component":"async_test","message":"Async log message","iteration":"test"}
{"timestamp":1768469269656,"level":"INFO","component":"async_test","message":"Async log message","iteration":"test"}
{"timestamp":1768469269656,"level":"INFO","component":"async_test","message":"Async log message","iteration":"test"}
{"timestamp":1768469269656,"level":"INFO","component":"async_test","message":"Async log message","iteration":"test"}
{"timestamp":1768469269656,"level":"INFO","component":"async_test","message":"Async log message","iteration":"test"}
{"timestamp":1768469269656,"level":"INFO","component":"async_test","message":"Async log message","iteration":"test"}
{"timestamp":1768469269656,"level":"INFO","component":"async_test","message":"Async log message","iteration":"test"}
Assertion failed: strchr(line, '{') != NULL (/app/libs/distric_obs/tests/test_logging.c: test_concurrent_logging: 110)
<end of output>
Test time =   0.06 sec
----------------------------------------------------------
Test Failed.
"test_logging" end time: Jan 15 09:27 UTC
"test_logging" time elapsed: 00:00:00
----------------------------------------------------------

3/3 Testing: test_distric_obs
3/3 Test: test_distric_obs
Command: "/app/build/libs/distric_obs/tests/test_distric_obs"
Directory: /app/build/libs/distric_obs/tests
"test_distric_obs" start time: Jan 15 09:27 UTC
Output:
----------------------------------------------------------
=== DistriC Observability Integration Test ===
{"timestamp":1768469269727,"level":"INFO","component":"main","message":"Application starting","version":"1.0.0","environment":"production"}
{"timestamp":1768469269727,"level":"INFO","component":"worker","message":"Processing request","worker_id":"test","request_id":"test"}
{"timestamp":1768469269727,"level":"INFO","component":"worker","message":"Processing request","worker_id":"test","request_id":"test"}
{"timestamp":1768469269727,"level":"INFO","component":"worker","message":"Processing request","worker_id":"test","request_id":"test"}
{"timestamp":1768469269737,"level":"INFO","component":"worker","message":"Request completed","worker_id":"test","duration_ms":"10"}
{"timestamp":1768469269737,"level":"INFO","component":"worker","message":"Processing request","worker_id":"test","request_id":"test"}
{"timestamp":1768469269738,"level":"INFO","component":"worker","message":"Request completed","worker_id":"test","duration_ms":"10"}
{"timestamp":1768469269738,"level":"INFO","component":"worker","message":"Processing request","worker_id":"test","request_id":"test"}
{"timestamp":1768469269738,"level":"INFO","component":"worker","message":"Request completed","worker_id":"test","duration_ms":"10"}
{"timestamp":1768469269738,"level":"INFO","component":"worker","message":"Processing request","worker_id":"test","request_id":"test"}
{"timestamp":1768469269748,"level":"INFO","component":"worker","message":"Request completed","worker_id":"test","duration_ms":"10"}
{"timestamp":1768469269748,"level":"INFO","component":"worker","message":"Processing request","worker_id":"test","request_id":"test"}
{"timestamp":1768469269748,"level":"INFO","component":"worker","message":"Request completed","worker_id":"test","duration_ms":"10"}
{"timestamp":1768469269748,"level":"INFO","component":"worker","message":"Processing request","worker_id":"test","request_id":"test"}
{"timestamp":1768469269748,"level":"INFO","component":"worker","message":"Request completed","worker_id":"test","duration_ms":"10"}
{"timestamp":1768469269748,"level":"INFO","component":"worker","message":"Processing request","worker_id":"test","request_id":"test"}
{"timestamp":1768469269758,"level":"INFO","component":"worker","message":"Request completed","worker_id":"test","duration_ms":"10"}
{"timestamp":1768469269758,"level":"INFO","component":"worker","message":"Processing request","worker_id":"test","request_id":"test"}
{"timestamp":1768469269758,"level":"INFO","component":"worker","message":"Request completed","worker_id":"test","duration_ms":"10"}
{"timestamp":1768469269758,"level":"INFO","component":"worker","message":"Processing request","worker_id":"test","request_id":"test"}
{"timestamp":1768469269758,"level":"INFO","component":"worker","message":"Request completed","worker_id":"test","duration_ms":"10"}
{"timestamp":1768469269758,"level":"INFO","component":"worker","message":"Processing request","worker_id":"test","request_id":"test"}
{"timestamp":1768469269768,"level":"INFO","component":"worker","message":"Request completed","worker_id":"test","duration_ms":"10"}
{"timestamp":1768469269768,"level":"INFO","component":"worker","message":"Processing request","worker_id":"test","request_id":"test"}
{"timestamp":1768469269768,"level":"INFO","component":"worker","message":"Request completed","worker_id":"test","duration_ms":"10"}
{"timestamp":1768469269768,"level":"INFO","component":"worker","message":"Processing request","worker_id":"test","request_id":"test"}
{"timestamp":1768469269768,"level":"INFO","component":"worker","message":"Request completed","worker_id":"test","duration_ms":"10"}
{"timestamp":1768469269768,"level":"INFO","component":"worker","message":"Processing request","worker_id":"test","request_id":"test"}
{"timestamp":1768469269778,"level":"INFO","component":"worker","message":"Request completed","worker_id":"test","duration_ms":"10"}
{"timestamp":1768469269778,"level":"INFO","component":"worker","message":"Processing request","worker_id":"test","request_id":"test"}
{"timestamp":1768469269778,"level":"INFO","component":"worker","message":"Request completed","worker_id":"test","duration_ms":"10"}
{"timestamp":1768469269778,"level":"INFO","component":"worker","message":"Processing request","worker_id":"test","request_id":"test"}
{"timestamp":1768469269778,"level":"INFO","component":"worker","message":"Request completed","worker_id":"test","duration_ms":"10"}
{"timestamp":1768469269778,"level":"INFO","component":"worker","message":"Processing request","worker_id":"test","request_id":"test"}
{"timestamp":1768469269788,"level":"INFO","component":"worker","message":"Request completed","worker_id":"test","duration_ms":"10"}
{"timestamp":1768469269788,"level":"INFO","component":"worker","message":"Processing request","worker_id":"test","request_id":"test"}
{"timestamp":1768469269788,"level":"INFO","component":"worker","message":"Request completed","worker_id":"test","duration_ms":"10"}
{"timestamp":1768469269788,"level":"INFO","component":"worker","message":"Processing request","worker_id":"test","request_id":"test"}
{"timestamp":1768469269788,"level":"INFO","component":"worker","message":"Request completed","worker_id":"test","duration_ms":"10"}
{"timestamp":1768469269788,"level":"INFO","component":"worker","message":"Processing request","worker_id":"test","request_id":"test"}
{"timestamp":1768469269798,"level":"INFO","component":"worker","message":"Request completed","worker_id":"test","duration_ms":"10"}
{"timestamp":1768469269798,"level":"INFO","component":"worker","message":"Processing request","worker_id":"test","request_id":"test"}
{"timestamp":1768469269798,"level":"INFO","component":"worker","message":"Request completed","worker_id":"test","duration_ms":"10"}
{"timestamp":1768469269798,"level":"INFO","component":"worker","message":"Processing request","worker_id":"test","request_id":"test"}
{"timestamp":1768469269798,"level":"INFO","component":"worker","message":"Request completed","worker_id":"test","duration_ms":"10"}
{"timestamp":1768469269798,"level":"INFO","component":"worker","message":"Processing request","worker_id":"test","request_id":"test"}
{"timestamp":1768469269808,"level":"INFO","component":"worker","message":"Request completed","worker_id":"test","duration_ms":"10"}
{"timestamp":1768469269808,"level":"INFO","component":"worker","message":"Processing request","worker_id":"test","request_id":"test"}
{"timestamp":1768469269808,"level":"INFO","component":"worker","message":"Request completed","worker_id":"test","duration_ms":"10"}
{"timestamp":1768469269808,"level":"INFO","component":"worker","message":"Request completed","worker_id":"test","duration_ms":"10"}
}
{"timestamp":1768469269808,"level":"INFO","component":"worker","message":"Processing request","worker_id":"test","request_id":"test"}
{"timestamp":1768469269818,"level":"INFO","component":"worker","message":"Request completed","worker_id":"test","duration_ms":"10"}
{"timestamp":1768469269818,"level":"INFO","component":"worker","message":"Processing request","worker_id":"test","request_id":"test"}
{"timestamp":1768469269818,"level":"INFO","component":"worker","message":"Request completed","worker_id":"test","duration_ms":"10"}
{"timestamp":1768469269818,"level":"INFO","component":"worker","message":"Processing request","worker_id":"test","request_id":"test"}
{"timestamp":1768469269818,"level":"INFO","component":"worker","message":"Request completed","worker_id":"test","duration_ms":"10"}
{"timestamp":1768469269818,"level":"INFO","component":"worker","message":"Processing request","worker_id":"test","request_id":"test"}


=== Prometheus Metrics ===
# HELP http_requests_total Total HTTP requests
# TYPE http_requests_total counter
http_requests_total{service="api",endpoint="/users"} 30
# HELP http_request_duration_seconds HTTP request duration
# TYPE http_request_duration_seconds histogram
http_request_duration_seconds_bucket{le="0.001",service="api",endpoint="/users"} 0
http_request_duration_seconds_bucket{le="0.010",service="api",endpoint="/users"} 3
http_request_duration_seconds_bucket{le="0.100",service="api",endpoint="/users"} 27
http_request_duration_seconds_bucket{le="1.000",service="api",endpoint="/users"} 0
http_request_duration_seconds_bucket{le="10.000",service="api",endpoint="/users"} 0
http_request_duration_seconds_bucket{le="100.000",service="api",endpoint="/users"} 0
http_request_duration_seconds_bucket{le="1000.000",service="api",endpoint="/users"} 0
http_request_duration_seconds_bucket{le="10000.000",service="api",endpoint="/users"} 0
http_request_duration_seconds_bucket{le="100000.000",service="api",endpoint="/users"} 0
http_request_duration_seconds_bucket{le="+Inf",service="api",endpoint="/users"} 0
http_request_duration_seconds_sum{service="api",endpoint="/users"} 0.435000
http_request_duration_seconds_count{service="api",endpoint="/users"} 30
# HELP http_active_connections Active HTTP connections
# TYPE http_active_connections gauge
http_active_connections 4.000000
{"timestamp":1768469269829,"level":"INFO","component":"worker","message":"Request completed","worker_id":"test","duration_ms":"10"}
{"timestamp":1768469269829,"level":"INFO","component":"worker","message":"Request completed","worker_id":"test","duration_ms":"10"}
{"timestamp":1768469269829,"level":"INFO","component":"worker","message":"Request completed","worker_id":"test","duration_ms":"10"}
{"timestamp":1768469269829,"level":"INFO","component":"main","message":"All workers completed"}

=== Integration test complete ===
<end of output>
Test time =   0.11 sec
----------------------------------------------------------
Test Passed.
"test_distric_obs" end time: Jan 15 09:27 UTC
"test_distric_obs" time elapsed: 00:00:00
----------------------------------------------------------

End testing: Jan 15 09:27 UTC
